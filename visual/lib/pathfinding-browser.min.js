!function(t){if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.PF=t()}}((function(){return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var h=n[s]={exports:{}};e[s][0].call(h.exports,(function(t){var n=e[s][1][t];return r(n||t)}),h,h.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){e.exports=t("./lib/heap")},{"./lib/heap":2}],2:[function(t,e,n){(function(){var t,n,i,r,o,s,a,l,h,u,p,c,d,f,g;i=Math.floor,u=Math.min,n=function(t,e){return t<e?-1:t>e?1:0},h=function(t,e,r,o,s){var a;if(null==r&&(r=0),null==s&&(s=n),r<0)throw new Error("lo must be non-negative");for(null==o&&(o=t.length);r<o;)s(e,t[a=i((r+o)/2)])<0?o=a:r=a+1;return[].splice.apply(t,[r,r-r].concat(e)),e},s=function(t,e,i){return null==i&&(i=n),t.push(e),f(t,0,t.length-1,i)},o=function(t,e){var i,r;return null==e&&(e=n),i=t.pop(),t.length?(r=t[0],t[0]=i,g(t,0,e)):r=i,r},l=function(t,e,i){var r;return null==i&&(i=n),r=t[0],t[0]=e,g(t,0,i),r},a=function(t,e,i){var r;return null==i&&(i=n),t.length&&i(t[0],e)<0&&(e=(r=[t[0],e])[0],t[0]=r[1],g(t,0,i)),e},r=function(t,e){var r,o,s,a,l,h;for(null==e&&(e=n),l=[],o=0,s=(a=function(){h=[];for(var e=0,n=i(t.length/2);0<=n?e<n:e>n;0<=n?e++:e--)h.push(e);return h}.apply(this).reverse()).length;o<s;o++)r=a[o],l.push(g(t,r,e));return l},d=function(t,e,i){var r;if(null==i&&(i=n),-1!==(r=t.indexOf(e)))return f(t,0,r,i),g(t,r,i)},p=function(t,e,i){var o,s,l,h,u;if(null==i&&(i=n),!(s=t.slice(0,e)).length)return s;for(r(s,i),l=0,h=(u=t.slice(e)).length;l<h;l++)o=u[l],a(s,o,i);return s.sort(i).reverse()},c=function(t,e,i){var s,a,l,p,c,d,f,g,y;if(null==i&&(i=n),10*e<=t.length){if(!(l=t.slice(0,e).sort(i)).length)return l;for(a=l[l.length-1],p=0,d=(f=t.slice(e)).length;p<d;p++)i(s=f[p],a)<0&&(h(l,s,0,null,i),l.pop(),a=l[l.length-1]);return l}for(r(t,i),y=[],c=0,g=u(e,t.length);0<=g?c<g:c>g;0<=g?++c:--c)y.push(o(t,i));return y},f=function(t,e,i,r){var o,s,a;for(null==r&&(r=n),o=t[i];i>e&&r(o,s=t[a=i-1>>1])<0;)t[i]=s,i=a;return t[i]=o},g=function(t,e,i){var r,o,s,a,l;for(null==i&&(i=n),o=t.length,l=e,s=t[e],r=2*e+1;r<o;)(a=r+1)<o&&!(i(t[r],t[a])<0)&&(r=a),t[e]=t[r],r=2*(e=r)+1;return t[e]=s,f(t,l,e,i)},t=function(){function t(t){this.cmp=null!=t?t:n,this.nodes=[]}return t.push=s,t.pop=o,t.replace=l,t.pushpop=a,t.heapify=r,t.updateItem=d,t.nlargest=p,t.nsmallest=c,t.prototype.push=function(t){return s(this.nodes,t,this.cmp)},t.prototype.pop=function(){return o(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return l(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return a(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return r(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return d(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return(e=new t).nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),(null!=e?e.exports:void 0)?e.exports=t:window.Heap=t}).call(this)},{}],3:[function(t,e,n){e.exports={Always:1,Never:2,IfAtMostOneObstacle:3,OnlyWhenNoObstacles:4}},{}],4:[function(t,e,n){var i=t("./Node"),r=t("./DiagonalMovement");function o(t,e,n){var i;"object"!=typeof t?i=t:(e=t.length,i=t[0].length,n=t),this.width=i,this.height=e,this.nodes=this._buildNodes(i,e,n)}o.prototype._buildNodes=function(t,e,n){var r,o,s=new Array(e);for(r=0;r<e;++r)for(s[r]=new Array(t),o=0;o<t;++o)s[r][o]=new i(o,r);if(void 0===n)return s;if(n.length!==e||n[0].length!==t)throw new Error("Matrix size does not fit");for(r=0;r<e;++r)for(o=0;o<t;++o)n[r][o]&&(s[r][o].walkable=!1);return s},o.prototype.getNodeAt=function(t,e){return this.nodes[e][t]},o.prototype.isWalkableAt=function(t,e){return this.isInside(t,e)&&this.nodes[e][t].walkable},o.prototype.isInside=function(t,e){return t>=0&&t<this.width&&e>=0&&e<this.height},o.prototype.setWalkableAt=function(t,e,n){this.nodes[e][t].walkable=n},o.prototype.getNeighbors=function(t,e){var n=t.x,i=t.y,o=[],s=!1,a=!1,l=!1,h=!1,u=!1,p=!1,c=!1,d=!1,f=this.nodes;if(this.isWalkableAt(n,i-1)&&(o.push(f[i-1][n]),s=!0),this.isWalkableAt(n+1,i)&&(o.push(f[i][n+1]),l=!0),this.isWalkableAt(n,i+1)&&(o.push(f[i+1][n]),u=!0),this.isWalkableAt(n-1,i)&&(o.push(f[i][n-1]),c=!0),e===r.Never)return o;if(e===r.OnlyWhenNoObstacles)a=c&&s,h=s&&l,p=l&&u,d=u&&c;else if(e===r.IfAtMostOneObstacle)a=c||s,h=s||l,p=l||u,d=u||c;else{if(e!==r.Always)throw new Error("Incorrect value of diagonalMovement");a=!0,h=!0,p=!0,d=!0}return a&&this.isWalkableAt(n-1,i-1)&&o.push(f[i-1][n-1]),h&&this.isWalkableAt(n+1,i-1)&&o.push(f[i-1][n+1]),p&&this.isWalkableAt(n+1,i+1)&&o.push(f[i+1][n+1]),d&&this.isWalkableAt(n-1,i+1)&&o.push(f[i+1][n-1]),o},o.prototype.clone=function(){var t,e,n=this.width,r=this.height,s=this.nodes,a=new o(n,r),l=new Array(r);for(t=0;t<r;++t)for(l[t]=new Array(n),e=0;e<n;++e)l[t][e]=new i(e,t,s[t][e].walkable);return a.nodes=l,a},e.exports=o},{"./DiagonalMovement":3,"./Node":6}],5:[function(t,e,n){e.exports={manhattan:function(t,e){return t+e},poweredManhattan:function(t,e){return Math.pow(t+e,2)},extrapoweredManhattan:function(t,e){return Math.pow(t+e,10)},euclidean:function(t,e){return Math.sqrt(t*t+e*e)},octile:function(t,e){var n=Math.SQRT2-1;return t<e?n*t+e:n*e+t},chebyshev:function(t,e){return Math.max(t,e)}}},{}],6:[function(t,e,n){e.exports=function(t,e,n){this.x=t,this.y=e,this.walkable=void 0===n||n}},{}],7:[function(t,e,n){function i(t,e){for(var n=[[t.x,t.y]];t.parent;)t=t.parent,n.push([t.x,t.y]);return res={path:n.reverse(),operations:e},res}function r(t,e,n,i){var r,o,s,a,l,h,u=Math.abs,p=[];for(r=t<n?1:-1,o=e<i?1:-1,l=(s=u(n-t))-(a=u(i-e));p.push([t,e]),t!==n||e!==i;)(h=2*l)>-a&&(l-=a,t+=r),h<s&&(l+=s,e+=o);return p}n.backtrace=i,n.biBacktrace=function(t,e,n){var r=i(t),o=i(e);return res={path:r.path.concat(o.path.reverse()),operations:n},res},n.pathLength=function(t){var e,n,i,r,o,s=0;for(e=1;e<t.length;++e)n=t[e-1],i=t[e],r=n[0]-i[0],o=n[1]-i[1],s+=Math.sqrt(r*r+o*o);return s},n.interpolate=r,n.expandPath=function(t){var e,n,i,o,s,a,l=[],h=t.length;if(h<2)return l;for(s=0;s<h-1;++s)for(e=t[s],n=t[s+1],o=(i=r(e[0],e[1],n[0],n[1])).length,a=0;a<o-1;++a)l.push(i[a]);return l.push(t[h-1]),l},n.smoothenPath=function(t,e){var n,i,o,s,a,l,h,u,p,c=e.length,d=e[0][0],f=e[0][1],g=e[c-1][0],y=e[c-1][1];for(o=[[n=d,i=f]],s=2;s<c;++s){for(h=r(n,i,(l=e[s])[0],l[1]),p=!1,a=1;a<h.length;++a)if(u=h[a],!t.isWalkableAt(u[0],u[1])){p=!0;break}p&&(lastValidCoord=e[s-1],o.push(lastValidCoord),n=lastValidCoord[0],i=lastValidCoord[1])}return o.push([g,y]),o},n.compressPath=function(t){if(t.length<3)return t;var e,n,i,r,o,s,a=[],l=t[0][0],h=t[0][1],u=t[1][0],p=t[1][1],c=u-l,d=p-h;for(c/=o=Math.sqrt(c*c+d*d),d/=o,a.push([l,h]),s=2;s<t.length;s++)e=u,n=p,i=c,r=d,c=(u=t[s][0])-e,d=(p=t[s][1])-n,d/=o=Math.sqrt(c*c+d*d),(c/=o)===i&&d===r||a.push([e,n]);return a.push([u,p]),a}},{}],8:[function(t,e,n){e.exports={Heap:t("heap"),Node:t("./core/Node"),Grid:t("./core/Grid"),Util:t("./core/Util"),DiagonalMovement:t("./core/DiagonalMovement"),Heuristic:t("./core/Heuristic"),AStarFinder:t("./finders/AStarFinder"),BestFirstFinder:t("./finders/BestFirstFinder"),CLAFinder:t("./finders/CLAFinder"),BreadthFirstFinder:t("./finders/BreadthFirstFinder"),DijkstraFinder:t("./finders/DijkstraFinder"),BiAStarFinder:t("./finders/BiAStarFinder"),BiBestFirstFinder:t("./finders/BiBestFirstFinder"),BiBreadthFirstFinder:t("./finders/BiBreadthFirstFinder"),BiDijkstraFinder:t("./finders/BiDijkstraFinder"),IDAStarFinder:t("./finders/IDAStarFinder"),JumpPointFinder:t("./finders/JumpPointFinder"),RandomMaze:t("./mazes/random"),TSP:t("./finders/TSP")}},{"./core/DiagonalMovement":3,"./core/Grid":4,"./core/Heuristic":5,"./core/Node":6,"./core/Util":7,"./finders/AStarFinder":9,"./finders/BestFirstFinder":10,"./finders/BiAStarFinder":11,"./finders/BiBestFirstFinder":12,"./finders/BiBreadthFirstFinder":13,"./finders/BiDijkstraFinder":14,"./finders/BreadthFirstFinder":15,"./finders/CLAFinder":16,"./finders/DijkstraFinder":17,"./finders/IDAStarFinder":18,"./finders/JumpPointFinder":23,"./finders/TSP":25,"./mazes/random":26,heap:1}],9:[function(t,e,n){var i=t("heap"),r=t("../core/Util"),o=t("../core/Heuristic"),s=t("../core/DiagonalMovement");function a(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.heuristic=t.heuristic||o.manhattan,this.weight=t.weight||1,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=s.OnlyWhenNoObstacles:this.diagonalMovement=s.IfAtMostOneObstacle:this.diagonalMovement=s.Never),this.diagonalMovement===s.Never?this.heuristic=t.heuristic||o.manhattan:this.heuristic=t.heuristic||o.octile}a.prototype.findPath=function(t,e,n,o,s){var a=[];console.log("AStar");var l,h,u,p,c,d,f,g,y=new i((function(t,e){return t.f-e.f})),v=s.getNodeAt(t,e),m=s.getNodeAt(n,o),b=this.heuristic,A=this.diagonalMovement,k=this.weight,x=Math.abs,M=Math.SQRT2;for(v.g=0,v.f=0,y.push(v),v.opened=!0,a.push({x:v.x,y:v.y,attr:"opened",value:!0});!y.empty();){if((l=y.pop()).closed=!0,a.push({x:l.x,y:l.y,attr:"closed",value:!0}),l===m)return console.log("operations"),r.backtrace(m,a);for(p=0,c=(h=s.getNeighbors(l,A)).length;p<c;++p)(u=h[p]).closed||(d=u.x,f=u.y,g=l.g+(d-l.x==0||f-l.y==0?1:M),(!u.opened||g<u.g)&&(u.g=g,u.h=u.h||k*b(x(d-n),x(f-o)),u.f=u.g+u.h,u.parent=l,u.opened?y.updateItem(u):(y.push(u),u.opened=!0,a.push({x:u.x,y:u.y,attr:"opened",value:!0}))))}return[]},e.exports=a},{"../core/DiagonalMovement":3,"../core/Heuristic":5,"../core/Util":7,heap:1}],10:[function(t,e,n){var i=t("./AStarFinder");function r(t){i.call(this,t);var e=this.heuristic;this.heuristic=function(t,n){return 1e6*e(t,n)}}r.prototype=new i,r.prototype.constructor=r,e.exports=r},{"./AStarFinder":9}],11:[function(t,e,n){var i=t("heap"),r=t("../core/Util"),o=t("../core/Heuristic"),s=t("../core/DiagonalMovement");function a(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||o.manhattan,this.weight=t.weight||1,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=s.OnlyWhenNoObstacles:this.diagonalMovement=s.IfAtMostOneObstacle:this.diagonalMovement=s.Never),this.diagonalMovement===s.Never?this.heuristic=t.heuristic||o.manhattan:this.heuristic=t.heuristic||o.octile}a.prototype.findPath=function(t,e,n,o,s){var a=[];console.log("BiAStar");var l,h,u,p,c,d,f,g,y=function(t,e){return t.f-e.f},v=new i(y),m=new i(y),b=s.getNodeAt(t,e),A=s.getNodeAt(n,o),k=this.heuristic,x=this.diagonalMovement,M=this.weight,W=Math.abs,w=Math.SQRT2;for(b.g=0,b.f=0,v.push(b),b.opened=1,a.push({x:b.x,y:b.y,attr:"opened",value:1}),A.g=0,A.f=0,m.push(A),A.opened=2,a.push({x:A.x,y:A.y,attr:"opened",value:2});!v.empty()&&!m.empty();){for((l=v.pop()).closed=!0,a.push({x:l.x,y:l.y,attr:"closed",value:!0}),p=0,c=(h=s.getNeighbors(l,x)).length;p<c;++p)if(!(u=h[p]).closed){if(2===u.opened)return r.biBacktrace(l,u,a);d=u.x,f=u.y,g=l.g+(d-l.x==0||f-l.y==0?1:w),(!u.opened||g<u.g)&&(u.g=g,u.h=u.h||M*k(W(d-n),W(f-o)),u.f=u.g+u.h,u.parent=l,u.opened?v.updateItem(u):(v.push(u),u.opened=1,a.push({x:u.x,y:u.y,attr:"opened",value:1})))}for((l=m.pop()).closed=!0,a.push({x:l.x,y:l.y,attr:"closed",value:!0}),p=0,c=(h=s.getNeighbors(l,x)).length;p<c;++p)if(!(u=h[p]).closed){if(1===u.opened)return r.biBacktrace(u,l,a);d=u.x,f=u.y,g=l.g+(d-l.x==0||f-l.y==0?1:w),(!u.opened||g<u.g)&&(u.g=g,u.h=u.h||M*k(W(d-t),W(f-e)),u.f=u.g+u.h,u.parent=l,u.opened?m.updateItem(u):(m.push(u),u.opened=2,a.push({x:u.x,y:u.y,attr:"opened",value:2})))}}return[]},e.exports=a},{"../core/DiagonalMovement":3,"../core/Heuristic":5,"../core/Util":7,heap:1}],12:[function(t,e,n){var i=t("./BiAStarFinder");function r(t){i.call(this,t);var e=this.heuristic;this.heuristic=function(t,n){return 1e6*e(t,n)}}r.prototype=new i,r.prototype.constructor=r,e.exports=r},{"./BiAStarFinder":11}],13:[function(t,e,n){var i=t("../core/Util"),r=t("../core/DiagonalMovement");function o(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=r.OnlyWhenNoObstacles:this.diagonalMovement=r.IfAtMostOneObstacle:this.diagonalMovement=r.Never)}o.prototype.findPath=function(t,e,n,r,o){var s,a,l,h,u,p=o.getNodeAt(t,e),c=o.getNodeAt(n,r),d=[],f=[],g=this.diagonalMovement,y=[];for(d.push(p),p.opened=!0,p.by=0,y.push({x:p.x,y:p.y,attr:"opened",value:!0}),f.push(c),c.opened=!0,c.by=1,y.push({x:c.x,y:c.y,attr:"opened",value:!0});d.length&&f.length;){for((l=d.shift()).closed=!0,y.push({x:l.x,y:l.y,attr:"closed",value:!0}),h=0,u=(s=o.getNeighbors(l,g)).length;h<u;++h)if(!(a=s[h]).closed)if(a.opened){if(1===a.by)return i.biBacktrace(l,a,y)}else d.push(a),a.parent=l,a.opened=!0,a.by=0,y.push({x:a.x,y:a.y,attr:"opened",value:!0});for((l=f.shift()).closed=!0,y.push({x:l.x,y:l.y,attr:"closed",value:!0}),h=0,u=(s=o.getNeighbors(l,g)).length;h<u;++h)if(!(a=s[h]).closed)if(a.opened){if(0===a.by)return i.biBacktrace(a,l,y)}else f.push(a),a.parent=l,a.opened=!0,a.by=1,y.push({x:a.x,y:a.y,attr:"opened",value:!0})}return[]},e.exports=o},{"../core/DiagonalMovement":3,"../core/Util":7}],14:[function(t,e,n){var i=t("./BiAStarFinder");function r(t){i.call(this,t),this.heuristic=function(t,e){return 0}}r.prototype=new i,r.prototype.constructor=r,e.exports=r},{"./BiAStarFinder":11}],15:[function(t,e,n){var i=t("../core/Util"),r=t("../core/DiagonalMovement");function o(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=r.OnlyWhenNoObstacles:this.diagonalMovement=r.IfAtMostOneObstacle:this.diagonalMovement=r.Never)}o.prototype.findPath=function(t,e,n,r,o){var s,a,l,h,u,p=[],c=[],d=this.diagonalMovement,f=o.getNodeAt(t,e),g=o.getNodeAt(n,r);for(c.push(f),f.opened=!0,p.push({x:f.x,y:f.y,attr:"opened",value:!0});c.length;){if((l=c.shift()).closed=!0,p.push({x:l.x,y:l.y,attr:"closed",value:!0}),l===g)return i.backtrace(g,p);for(h=0,u=(s=o.getNeighbors(l,d)).length;h<u;++h)(a=s[h]).closed||a.opened||(c.push(a),a.opened=!0,p.push({x:a.x,y:a.y,attr:"opened",value:!0}),a.parent=l)}return[]},e.exports=o},{"../core/DiagonalMovement":3,"../core/Util":7}],16:[function(t,e,n){var i=t("./AStarFinder");function r(t){i.call(this,t),"poweredManhattan"==(t=t||{}).heuristic?this.heuristic=function(t,e){return Math.pow(t+e,2)}:this.heuristic=function(t,e){return Math.pow(t+e,10)}}r.prototype=new i,r.prototype.constructor=r,e.exports=r},{"./AStarFinder":9}],17:[function(t,e,n){var i=t("./AStarFinder");function r(t){i.call(this,t),this.heuristic=function(t,e){return 0}}r.prototype=new i,r.prototype.constructor=r,e.exports=r},{"./AStarFinder":9}],18:[function(t,e,n){t("../core/Util");var i=t("../core/Heuristic"),r=t("../core/Node"),o=t("../core/DiagonalMovement");function s(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||i.manhattan,this.weight=t.weight||1,this.trackRecursion=t.trackRecursion||!1,this.timeLimit=t.timeLimit||1/0,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never),this.diagonalMovement===o.Never?this.heuristic=t.heuristic||i.manhattan:this.heuristic=t.heuristic||i.octile}s.prototype.findPath=function(t,e,n,i,o){var s,a,l,h=[],u=(new Date).getTime(),p=function(t,e){return this.heuristic(Math.abs(e.x-t.x),Math.abs(e.y-t.y))}.bind(this),c=function(t,e,n,i,s){if(this.timeLimit>0&&(new Date).getTime()-u>1e3*this.timeLimit)return 1/0;var a,l,d,g,y=e+p(t,f)*this.weight;if(y>n)return y;if(t==f)return i[s]=[t.x,t.y],t;var v,m,b=o.getNeighbors(t,this.diagonalMovement);for(d=0,a=1/0;g=b[d];++d){if(this.trackRecursion&&(g.retainCount=g.retainCount+1||1,!0!==g.tested&&(g.tested=!0,h.push({x:g.x,y:g.y,attr:"tested",value:!0}))),(l=c(g,e+(m=g,(v=t).x===m.x||v.y===m.y?1:Math.SQRT2),n,i,s+1))instanceof r)return i[s]=[t.x,t.y],l;this.trackRecursion&&0==--g.retainCount&&(g.tested=!1,h.push({x:g.x,y:g.y,attr:"tested",value:!1})),l<a&&(a=l)}return a}.bind(this),d=o.getNodeAt(t,e),f=o.getNodeAt(n,i),g=p(d,f);for(s=0;;++s){if((l=c(d,0,g,a=[],0))===1/0)return res={path:[],operations:[]},res;if(l instanceof r)return res={path:a,operations:h},res;g=l}return res={path:[],operations:[]},res},e.exports=s},{"../core/DiagonalMovement":3,"../core/Heuristic":5,"../core/Node":6,"../core/Util":7}],19:[function(t,e,n){var i=t("./JumpPointFinderBase"),r=t("../core/DiagonalMovement");function o(t){i.call(this,t)}o.prototype=new i,o.prototype.constructor=o,o.prototype._jump=function(t,e,n,i){var r=this.grid,o=t-n,s=e-i;if(!r.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(r.getNodeAt(t,e).tested=!0),r.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==o&&0!==s){if(r.isWalkableAt(t-o,e+s)&&!r.isWalkableAt(t-o,e)||r.isWalkableAt(t+o,e-s)&&!r.isWalkableAt(t,e-s))return[t,e];if(this._jump(t+o,e,t,e)||this._jump(t,e+s,t,e))return[t,e]}else if(0!==o){if(r.isWalkableAt(t+o,e+1)&&!r.isWalkableAt(t,e+1)||r.isWalkableAt(t+o,e-1)&&!r.isWalkableAt(t,e-1))return[t,e]}else if(r.isWalkableAt(t+1,e+s)&&!r.isWalkableAt(t+1,e)||r.isWalkableAt(t-1,e+s)&&!r.isWalkableAt(t-1,e))return[t,e];return this._jump(t+o,e+s,t,e)},o.prototype._findNeighbors=function(t){var e,n,i,o,s,a,l,h,u=t.parent,p=t.x,c=t.y,d=this.grid,f=[];if(u)e=u.x,n=u.y,i=(p-e)/Math.max(Math.abs(p-e),1),o=(c-n)/Math.max(Math.abs(c-n),1),0!==i&&0!==o?(d.isWalkableAt(p,c+o)&&f.push([p,c+o]),d.isWalkableAt(p+i,c)&&f.push([p+i,c]),d.isWalkableAt(p+i,c+o)&&f.push([p+i,c+o]),d.isWalkableAt(p-i,c)||f.push([p-i,c+o]),d.isWalkableAt(p,c-o)||f.push([p+i,c-o])):0===i?(d.isWalkableAt(p,c+o)&&f.push([p,c+o]),d.isWalkableAt(p+1,c)||f.push([p+1,c+o]),d.isWalkableAt(p-1,c)||f.push([p-1,c+o])):(d.isWalkableAt(p+i,c)&&f.push([p+i,c]),d.isWalkableAt(p,c+1)||f.push([p+i,c+1]),d.isWalkableAt(p,c-1)||f.push([p+i,c-1]));else for(l=0,h=(s=d.getNeighbors(t,r.Always)).length;l<h;++l)a=s[l],f.push([a.x,a.y]);return f},e.exports=o},{"../core/DiagonalMovement":3,"./JumpPointFinderBase":24}],20:[function(t,e,n){var i=t("./JumpPointFinderBase"),r=t("../core/DiagonalMovement");function o(t){i.call(this,t)}o.prototype=new i,o.prototype.constructor=o,o.prototype._jump=function(t,e,n,i,r){var o=this.grid,s=t-n,a=e-i;if(!o.isWalkableAt(t,e))return res={jumppoint:null,operations:r},res;if(!0===this.trackJumpRecursion&&(o.getNodeAt(t,e).tested=!0,r.push({x:t,y:e,attr:"tested",value:!0})),o.getNodeAt(t,e)===this.endNode)return res={jumppoint:[t,e],operations:r},res;if(0!==s&&0!==a){if(o.isWalkableAt(t-s,e+a)&&!o.isWalkableAt(t-s,e)||o.isWalkableAt(t+s,e-a)&&!o.isWalkableAt(t,e-a))return res={jumppoint:[t,e],operations:r},res;if(check1=this._jump(t+s,e,t,e,r),check1)return res={jumppoint:[t,e],operations:check1.operations},res;if(check2=this._jump(t,e+a,t,e,check1.operations),check2)return res={jumppoint:[t,e],operations:check2.operations},res}else if(0!==s){if(o.isWalkableAt(t+s,e+1)&&!o.isWalkableAt(t,e+1)||o.isWalkableAt(t+s,e-1)&&!o.isWalkableAt(t,e-1))return res={jumppoint:[t,e],operations:r},res}else if(o.isWalkableAt(t+1,e+a)&&!o.isWalkableAt(t+1,e)||o.isWalkableAt(t-1,e+a)&&!o.isWalkableAt(t-1,e))return res={jumppoint:[t,e],operations:r},res;return o.isWalkableAt(t+s,e)||o.isWalkableAt(t,e+a)?this._jump(t+s,e+a,t,e,r):(res={jumppoint:null,operations:r},res)},o.prototype._findNeighbors=function(t){var e,n,i,o,s,a,l,h,u=t.parent,p=t.x,c=t.y,d=this.grid,f=[];if(u)e=u.x,n=u.y,i=(p-e)/Math.max(Math.abs(p-e),1),o=(c-n)/Math.max(Math.abs(c-n),1),0!==i&&0!==o?(d.isWalkableAt(p,c+o)&&f.push([p,c+o]),d.isWalkableAt(p+i,c)&&f.push([p+i,c]),(d.isWalkableAt(p,c+o)||d.isWalkableAt(p+i,c))&&f.push([p+i,c+o]),!d.isWalkableAt(p-i,c)&&d.isWalkableAt(p,c+o)&&f.push([p-i,c+o]),!d.isWalkableAt(p,c-o)&&d.isWalkableAt(p+i,c)&&f.push([p+i,c-o])):0===i?d.isWalkableAt(p,c+o)&&(f.push([p,c+o]),d.isWalkableAt(p+1,c)||f.push([p+1,c+o]),d.isWalkableAt(p-1,c)||f.push([p-1,c+o])):d.isWalkableAt(p+i,c)&&(f.push([p+i,c]),d.isWalkableAt(p,c+1)||f.push([p+i,c+1]),d.isWalkableAt(p,c-1)||f.push([p+i,c-1]));else for(l=0,h=(s=d.getNeighbors(t,r.IfAtMostOneObstacle)).length;l<h;++l)a=s[l],f.push([a.x,a.y]);return f},e.exports=o},{"../core/DiagonalMovement":3,"./JumpPointFinderBase":24}],21:[function(t,e,n){var i=t("./JumpPointFinderBase"),r=t("../core/DiagonalMovement");function o(t){i.call(this,t)}o.prototype=new i,o.prototype.constructor=o,o.prototype._jump=function(t,e,n,i){var r=this.grid,o=t-n,s=e-i;if(!r.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(r.getNodeAt(t,e).tested=!0),r.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==o&&0!==s){if(this._jump(t+o,e,t,e)||this._jump(t,e+s,t,e))return[t,e]}else if(0!==o){if(r.isWalkableAt(t,e-1)&&!r.isWalkableAt(t-o,e-1)||r.isWalkableAt(t,e+1)&&!r.isWalkableAt(t-o,e+1))return[t,e]}else if(0!==s&&(r.isWalkableAt(t-1,e)&&!r.isWalkableAt(t-1,e-s)||r.isWalkableAt(t+1,e)&&!r.isWalkableAt(t+1,e-s)))return[t,e];return r.isWalkableAt(t+o,e)&&r.isWalkableAt(t,e+s)?this._jump(t+o,e+s,t,e):null},o.prototype._findNeighbors=function(t){var e,n,i,o,s,a,l,h,u,p=t.parent,c=t.x,d=t.y,f=this.grid,g=[];if(p){if(e=p.x,n=p.y,i=(c-e)/Math.max(Math.abs(c-e),1),o=(d-n)/Math.max(Math.abs(d-n),1),0!==i&&0!==o)f.isWalkableAt(c,d+o)&&g.push([c,d+o]),f.isWalkableAt(c+i,d)&&g.push([c+i,d]),f.isWalkableAt(c,d+o)&&f.isWalkableAt(c+i,d)&&g.push([c+i,d+o]);else if(0!==i){u=f.isWalkableAt(c+i,d);var y=f.isWalkableAt(c,d+1),v=f.isWalkableAt(c,d-1);u&&(g.push([c+i,d]),y&&g.push([c+i,d+1]),v&&g.push([c+i,d-1])),y&&g.push([c,d+1]),v&&g.push([c,d-1])}else if(0!==o){u=f.isWalkableAt(c,d+o);var m=f.isWalkableAt(c+1,d),b=f.isWalkableAt(c-1,d);u&&(g.push([c,d+o]),m&&g.push([c+1,d+o]),b&&g.push([c-1,d+o])),m&&g.push([c+1,d]),b&&g.push([c-1,d])}}else for(l=0,h=(s=f.getNeighbors(t,r.OnlyWhenNoObstacles)).length;l<h;++l)a=s[l],g.push([a.x,a.y]);return g},e.exports=o},{"../core/DiagonalMovement":3,"./JumpPointFinderBase":24}],22:[function(t,e,n){var i=t("./JumpPointFinderBase"),r=t("../core/DiagonalMovement");function o(t){i.call(this,t)}o.prototype=new i,o.prototype.constructor=o,o.prototype._jump=function(t,e,n,i,r){var o=this.grid,s=t-n,a=e-i;if(!o.isWalkableAt(t,e))return res={jumppoint:null,operations:r},res;if(!0===this.trackJumpRecursion&&(o.getNodeAt(t,e).tested=!0,r.push({x:t,y:e,attr:"tested",value:!0})),o.getNodeAt(t,e)===this.endNode)return res={jumppoint:[t,e],operations:r},res;if(0!==s){if(o.isWalkableAt(t,e-1)&&!o.isWalkableAt(t-s,e-1)||o.isWalkableAt(t,e+1)&&!o.isWalkableAt(t-s,e+1))return res={jumppoint:[t,e],operations:r},res}else{if(0===a)throw new Error("Only horizontal and vertical movements are allowed");if(o.isWalkableAt(t-1,e)&&!o.isWalkableAt(t-1,e-a)||o.isWalkableAt(t+1,e)&&!o.isWalkableAt(t+1,e-a))return res={jumppoint:[t,e],operations:r},res;if(check1=this._jump(t+1,e,t,e,r),check1)return res={jumppoint:[t,e],operations:check1.operations},res;if(check2=this._jump(t-1,e,t,e,check1.operations),check2)return res={jumppoint:[t,e],operations:check2.operations},res}return this._jump(t+s,e+a,t,e,r)},o.prototype._findNeighbors=function(t){var e,n,i,o,s,a,l,h,u=t.parent,p=t.x,c=t.y,d=this.grid,f=[];if(u)e=u.x,n=u.y,i=(p-e)/Math.max(Math.abs(p-e),1),o=(c-n)/Math.max(Math.abs(c-n),1),0!==i?(d.isWalkableAt(p,c-1)&&f.push([p,c-1]),d.isWalkableAt(p,c+1)&&f.push([p,c+1]),d.isWalkableAt(p+i,c)&&f.push([p+i,c])):0!==o&&(d.isWalkableAt(p-1,c)&&f.push([p-1,c]),d.isWalkableAt(p+1,c)&&f.push([p+1,c]),d.isWalkableAt(p,c+o)&&f.push([p,c+o]));else for(l=0,h=(s=d.getNeighbors(t,r.Never)).length;l<h;++l)a=s[l],f.push([a.x,a.y]);return f},e.exports=o},{"../core/DiagonalMovement":3,"./JumpPointFinderBase":24}],23:[function(t,e,n){var i=t("../core/DiagonalMovement"),r=t("./JPFNeverMoveDiagonally"),o=t("./JPFAlwaysMoveDiagonally"),s=t("./JPFMoveDiagonallyIfNoObstacles"),a=t("./JPFMoveDiagonallyIfAtMostOneObstacle");e.exports=function(t){return(t=t||{}).diagonalMovement===i.Never?new r(t):t.diagonalMovement===i.Always?new o(t):t.diagonalMovement===i.OnlyWhenNoObstacles?new s(t):new a(t)}},{"../core/DiagonalMovement":3,"./JPFAlwaysMoveDiagonally":19,"./JPFMoveDiagonallyIfAtMostOneObstacle":20,"./JPFMoveDiagonallyIfNoObstacles":21,"./JPFNeverMoveDiagonally":22}],24:[function(t,e,n){var i=t("heap"),r=t("../core/Util"),o=t("../core/Heuristic");t("../core/DiagonalMovement");function s(t){t=t||{},this.heuristic=t.heuristic||o.manhattan,this.trackJumpRecursion=t.trackJumpRecursion||!1,console.log("recursion",this.trackJumpRecursion)}s.prototype.findPath=function(t,e,n,o,s){var a,l=this.openList=new i((function(t,e){return t.f-e.f})),h=this.startNode=s.getNodeAt(t,e),u=this.endNode=s.getNodeAt(n,o);this.grid=s;var p=[];for(h.g=0,h.f=0,l.push(h),h.opened=!0,p.push({x:h.x,y:h.y,attr:"opened",value:!0});!l.empty();){if((a=l.pop()).closed=!0,p.push({x:a.x,y:a.y,attr:"closed",value:!0}),a===u)return res={path:r.expandPath(r.backtrace(u,p).path),operations:p},res;p=this._identifySuccessors(a,p)}return res={path:[],operations:p},res},s.prototype._identifySuccessors=function(t,e){var n,i,r,s,a,l,h,u,p,c,d=this.grid,f=this.heuristic,g=this.openList,y=this.endNode.x,v=this.endNode.y,m=t.x,b=t.y,A=Math.abs;Math.max;for(s=0,a=(n=this._findNeighbors(t)).length;s<a;++s)if(i=n[s],res=this._jump(i[0],i[1],m,b,e),r=res.jumppoint,e=res.operations,r){if(l=r[0],h=r[1],(c=d.getNodeAt(l,h)).closed)continue;u=o.octile(A(l-m),A(h-b)),p=t.g+u,(!c.opened||p<c.g)&&(c.g=p,c.h=c.h||f(A(l-y),A(h-v)),c.f=c.g+c.h,c.parent=t,c.opened?g.updateItem(c):(g.push(c),c.opened=!0,e.push({x:c.x,y:c.y,attr:"opened",value:!0})))}return e},e.exports=s},{"../core/DiagonalMovement":3,"../core/Heuristic":5,"../core/Util":7,heap:1}],25:[function(t,e,n){function i(t){t=t||{},this.startX=t.startX,this.startY=t.startY,this.endX=t.endX,this.endY=t.endY,this.checkpoints=t.checkpoints,this.grid=t.grid,this.finder=t.finder}i.prototype.permfinder=function(t){let e=[];for(let n=0;n<t.length;n+=1){let i=this.permfinder(t.slice(0,n).concat(t.slice(n+1)));if(i.length)for(let r=0;r<i.length;r+=1)e.push([t[n]].concat(i[r]));else e.push([t[n]])}return e},i.prototype.onTSP=function(){let t=this.permfinder(this.checkpoints);var e=999999,n=[];for(let u=0;u<t.length;u+=1){var i=0;for(let e=-1;e<t[u].length;e+=1){if(-1==e)var r=this.startX,o=this.startY;else r=t[u][e].x,o=t[u][e].y;if(e==this.checkpoints.length-1)var s=this.endX,a=this.endY;else s=t[u][e+1].x,a=t[u][e+1].y;var l=this.grid.clone(),h=this.finder.findPath(r,o,s,a,l);i+=PF.Util.pathLength(h.path)}i<e&&(e=i,n=t[u])}return this.checkpoints=n,n},e.exports=i},{}],26:[function(t,e,n){function i(t){t=t||{},this.mazeWalls=[],this.xlim=t.xlim,this.ylim=t.ylim,this.startX=t.startX,this.startY=t.startY,this.endX=t.endX,this.endY=t.endY,this.controller=t.controller}i.prototype.findmaze=function(){console.log("I am in randommaze");for(var t=0,e=0;t<this.xlim;){for(;e<this.ylim;)t==this.startX&&e==this.startY||t==this.endX&&e==this.endY?e++:Math.random()>.8?(this.mazeWalls.push({x:t,y:e}),e++):e++;e=0,t++}return this.mazeWalls},e.exports=i},{}]},{},[8])(8)}));